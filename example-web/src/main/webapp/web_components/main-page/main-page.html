<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-styles">
<link rel="import" href="../../bower_components/paper-styles/demo-pages.html">

<dom-module id="main-page">
	<template>
	    <iron-ajax auto url="/api/main/data" handle-as="json" last-response="{{mainPageData}}"></iron-ajax>
		<div>
			<paper-drawer-panel>
				<paper-header-panel drawer>
					<paper-toolbar>
						<div>{{mainPageData.hash}}</div>
					</paper-toolbar>
					<div>
					    <template is="dom-repeat" items="{{mainPageData.routingItems}}">
							<paper-item>{{item.name}}</paper-item>
							<button on-click="toggleCollapse">toggle collapse</button>
							<iron-collapse id="collapse{{index}}">
								<div>
									<div>{{item.description}}</div>
								</div>
							</iron-collapse>
						</template>
					</div>
				</paper-header-panel>
				<paper-header-panel main>
					<paper-toolbar>
						<paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
						<div>Title</div>
					</paper-toolbar>
					<div>Main content...</div>
				</paper-header-panel>
			</paper-drawer-panel>
		</div>
	</template>
	<script src="main-page.js"></script>
</dom-module>
